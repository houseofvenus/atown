<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" sizes="180x180" href="./media/icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="../media/icon/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Braah+One&display=swap" rel="stylesheet">
    <title>v. 0.12.0.a</title>
    <link rel ="stylesheet" type="text/css" href="./css/PublicAugmentedRealityKinectome.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
   integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
   crossorigin=""/>
    <link rel="stylesheet" type="text/css" href="./css/library-map-filter.css" />
</head>
<body>
    <div id="success-container">
        <div id="success-icon-container"></div>
        <div id="success-text-container">Your Request Is Being Completed</div>
    </div>
    <div id="check-out-book-container" class="park-module-container">
        <h2 id="schedule-instructions-title-container">Check Out</h2>
        <p class="park-module-instruction-paragraph-container">Select a start point for your delivery by clicking on a location on the map</p>
        <p class="park-module-instruction-paragraph-container">Select a destination point for your delivery by clicking on a location on the map</p>
        <p class="park-module-instruction-paragraph-container">To customize flight settings, click on the generated flight path</p>
        <p class="park-module-instruction-paragraph-container">Note: only one flight can be scheduled at a time</p>
        <p class="park-module-instruction-paragraph-container">When you are ready to begin click start below!</p>
        <input type="button" value="deliver" id="start-scheduling-delivery-button-container" class="start-scheduling-button-container"/>
    </div>
    <div id="return-book-container" class="library-action-module-container">
        <h2 id="return-book-header-container">Book Return</h2>
        <p class="return-book-text-container">You selected the following title for book return:</p>
        <div id="return-book-cover-container"></div>
        <h3 id="return-book-title-container"></h3>
        <p id="return-book-owner-container"></p>
        <input type="button" value="Return This Book" id="start-book-return-button-container"/>
    </div>
    
    <div id="main-app-container">
        <!--<input id="register-for-pARk-button-container" value="" type="button">-->
        <div id="user-access-layer-container" class="page-container layer-container upper-layer-container">
            <div id="instructions-wrapper-container">
                <p id="welcome-instruction-header-container">
                    The Little Free Digital Library
                </p>
                <div class="instructions-block">
                    <p>
                        Welcome to the Little Free Digital Library System! Explore Little Free Library collections near you, online.
                    </p>
                    <div id="instruction-graphic-1-container" class="instruction-graphic-container"></div>
                    <p>
                        Click on the icons to browse, borrow, share, and/or return books online. Some collections also contain digital media (films, ebook, etc).
                    </p>
                  <!--  <p>
                        All orders will be delivered to the nearest Door. To use Direct Delivery access the pARk through your cARd.-->
                        <!-- Tap items to view and order.
                    </p>-->
                </div>
                <!--<p id="tap-to-start-title-container">
                    tap anywhere to start
                </p>-->
            </div>
        </div>
        <div id="create-account-input-container" class="create-input-container">
            <div id="capture-options-container">
                <input id="dps2-call-button-container" class="create-input-option-button-container" value="" type="button">
                <input type="button" class="create-input-option-button-container" id="film-capture-button-container" value=""/>
                <input type="button" class="create-input-option-button-container" id="delivery-capture-button-container" value=""/>
                <input type="button" class="create-input-option-button-container" id="d2-capture-button-container" value=""/>
            </div>
        </div>
        
        
        <div id="library-menu-container">
            <button id="vision-page-button-container" class="library-menu-option-container" onmouseover="menuButtonHover(this)" onmouseout="menuButtonHoverOut(this)">Our Vision</button>
            <button id="add-new-library-page-button-container" class="library-menu-option-container"  onmouseover="menuButtonHover(this)" onmouseout="menuButtonHoverOut(this)">+ Add New Library üìö</button>
            <button id="add-new-librarian-page-button-container" class="library-menu-option-container" onmouseover="menuButtonHover(this)" onmouseout="menuButtonHoverOut(this)">+ Add New Librarian üßëüèΩ‚Äçüè´</button>
        </div>
        <button id="library-menu-button-container"></button>
        <div id="map" class="layer-container base-layer-container">
        </div>
    </div>
    <!-- https://unpkg.com/leaflet@1.9.4/dist/leaflet.js
integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
   crossorigin=""-->
    <script src="./js/park.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-storage.js"></script>
    <script>
        var storage, database;

        const config = {
          apiKey: "AIzaSyAzqXRxpmI9K7UMTsiuFU6b54SkSjNojkU",
          authDomain: "lyoko-blockchain.firebaseapp.com",
          databaseURL: "https://lyoko-blockchain-default-rtdb.europe-west1.firebasedatabase.app",
          projectId: "lyoko-blockchain",
          storageBucket: "lyoko-blockchain.appspot.com",
          messagingSenderId: "820284895954",
          appId: "1:820284895954:web:e69039cadfd002bc15b30b"
        };
        
        function initMap() {
            
            document.getElementById("start-book-return-button-container").addEventListener("click", function(){
                document.getElementById("return-book-container").style.display = "none";
                document.getElementById("success-container").style.display = "block";
                setTimeout(function(){
                    document.getElementById("success-container").style.display = "none";
                }, 5000);
            });
           
            map = L.map('map').setView([38.929990, -77.036990], 16);
            
            var LittleFreeDigitalLibraryIconMap = [
                {
                    name: "Harvard St Library",
                    icon: L.icon({
                        iconUrl: './media/img/library-icon.png',
                        iconSize: [100, 80],
                        popupAnchor: [38.929135, -77.035661]
                    })
                },
                {
                    name: "Patrice-Morgan's Library",
                    icon: L.icon({
                        iconUrl: './media/img/library-icon.png',
                        iconSize: [100, 80],
                        popupAnchor: [38.932696, -77.039743]
                    })
                },
                {
                    name: "KT's Library",
                    icon: L.icon({
                        iconUrl: './media/img/library-icon.png',
                        iconSize: [100, 80],
                        popupAnchor: [38.933563, -77.038869]
                    })
                },
                {
                    name: "Youth Build Library",
                    icon: L.icon({
                        iconUrl: './media/img/library-icon.png',
                        iconSize: [100, 80],
                        popupAnchor: [38.931320, -77.036810]
                    })
                }
            ];
            
            var LittleFreeDigitalLibrary = [
                {
                    name: "Harvard St Library",
                    marker: L.marker([38.926350, -77.036692], {icon: LittleFreeDigitalLibraryIconMap[0].icon}),
                    popup: L.popup([38.926350, -77.036692], {
                        content: `<h3 id="harvard-st-library-header-container" class="header-container">Harvard St Library</h3><div class="header-icon-container" id="harvard-st-library-header-icon-container"></div><div class="library-catalog-container smooth-scroll">
                        <button id="table-tennis-balls-option-container" class="option-button-container"></button>
                        <button id="natty-boh-1-option-container" class="option-button-container"></button>
                        <button id="pbr-1-option-container" class="option-button-container"></button></div>`
                    })
                },
                {
                    name: "Patrice-Morgan's Library",
                    marker: L.marker([38.932696, -77.039743], {icon: LittleFreeDigitalLibraryIconMap[1].icon}),
                    popup: L.popup([38.932696, -77.039743], {
                        content: `<h3 id="pm-library-header-container" class="header-container">Patrice-Morgan's Library</h3><div id="pm-library-header-icon-container" class="header-icon-container"></div><div id="pm-library-catalog-container" class="library-catalog-container smooth-scroll">
                        <button id="because-of-sex-book-option-container" class="book-option-button-container"></button>
                        <button id="the-house-of-scorpion-book-option-container" class="book-option-button-container"></button>
                        <button id="the-nazi-seizure-of-power-book-option-container" class="book-option-button-container"></button>
                        <button id="the-book-of-forgiving-book-option-container" class="book-option-button-container"></button>
                        <button id="l4yer-cake-book-option-container" class="book-option-button-container"></button>
                        </div>`
                    })/*<button id="from-farmland-to-streetlevel-book-0-option-container" class="book-option-button-container"></button>*/
                },
                {
                    name: "KT's Library",
                    marker: L.marker([38.933563, -77.038869], {icon: LittleFreeDigitalLibraryIconMap[2].icon}),
                    popup: L.popup([38.933563, -77.038869], {
                        content: `<h3 id="kt-library-header-container" class="header-container">KT's Library</h3><div id="kt-library-header-icon-container" class="header-icon-container"></div><div id="kts-library-catalog-container" class="library-catalog-container smooth-scroll">
                        <button id="from-farmland-to-streetlevel-book-1-option-container" class="book-option-button-container"></button>
                        <button id="dragons-heart-book-option-container" class="book-option-button-container"></button>
                        <button id="father-of-the-bride-book-option-container" class="book-option-button-container"></button>
                        <button id="key-west-connection-book-option-container" class="book-option-button-container"></button>
                        <button id="critique-of-pure-reason-book-option-container" class="book-option-button-container"></button>
                        <button id="time-and-the-other-book-option-container" class="book-option-button-container"></button>
                        <button id="stop-dressing-your-six-year-old-like-a-skank-book-option-container" class="book-option-button-container"></button>
                        <button id="the-theatre-of-the-absurd-book-option-container" class="book-option-button-container"></button>
                        <button id="on-the-plurality-of-worlds-book-option-container" class="book-option-button-container"></button>
                        <button id="a-history-of-the-modern-middle-east-book-option-container" class="book-option-button-container"></button>
                        <button id="total-immersion-book-option-container" class="book-option-button-container"></button>

<button id="stealth-of-nations-book-option-container" class="book-option-button-container"></button>
<button id="extreme-ownership-book-option-container" class="book-option-button-container"></button>
<button id="the-house-on-mango-street-book-option-container" class="book-option-button-container"></button>
<button id="guardians-of-gahoole-capture-book-option-container" class="book-option-button-container"></button>
<button id="dynamics-of-faith-book-option-container" class="book-option-button-container"></button>
<button id="miss-emily-book-option-container" class="book-option-button-container"></button>
<button id="desert-queen-book-option-container" class="book-option-button-container"></button>
<button id="a-woman-in-arabia-book-option-container" class="book-option-button-container"></button>
<button id="the-black-country-book-option-container" class="book-option-button-container"></button>
<button id="the-logical-basis-of-metaphysics-book-option-container" class="book-option-button-container"></button>
<button id="the-devils-workshop-book-option-container" class="book-option-button-container"></button>
<button id="mauds-line-book-option-container" class="book-option-button-container"></button>
<button id="the-curly-pyjama-letters-book-option-container" class="book-option-button-container"></button>
                        </div>`
                    })
                },
                {
                    name: "Youth Build Library",
                    marker: L.marker([38.931320, -77.036810], {
                        icon: LittleFreeDigitalLibraryIconMap[3].icon
                    }),
                    popup: L.popup([38.931320, -77.036810], {
                        content: `<h3 id="youth-build-library-header-container" class="header-container">Youth Build Library</h3><div id="youth-build-library-header-icon-container" class="header-icon-container"></div><div id="youth-build-library-catalog-container" class="library-catalog-container smooth-scroll">
                        <button id="the-false-prophet-book-option-container" class="book-option-button-container"></button>
                        <button id="el-viento-travieso-book-option-container" class="book-option-button-container"></button>
                        <button id="bayes-theorem-a-visual-intro-book-option-container" class="book-option-button-container"></button>
                        <button id="american-sniper-book-option-container" class="book-option-button-container"></button>
                        <button id="the-future-of-an-illusion-book-option-container" class="book-option-button-container"></button>
                        <button id="communities-book-option-container" class="book-option-button-container"></button>
                        <button id="jacobin-mag-summer-2023-book-option-container" class="book-option-button-container"></button>
                        </div>`
                    })
                }
            ]
            
           L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© House of Venus'
            }).addTo(map);

            map.on('click', onMapClick);
            
            
            LittleFreeDigitalLibrary[0].marker.bindPopup(LittleFreeDigitalLibrary[0].popup);
            
            LittleFreeDigitalLibrary[0].marker.on("popupopen", function(){
                document.getElementById("member-options-container").innerHTML = "<h3>Harvard St Library</h3><p class='popup-description-container'>Party On New Generation . New Season Begins Labor Day Weekend!</p><p>üëª üî™ Hours</p><h5>12:00AM to 6:00AM</h5>";
                
                
                maidenPop[4] = true;

                document.getElementById("natty-boh-1-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Natty Boh</h3><p class='popup-description-container'></p><p>1 count</p><p  class='popup-description-container'></p><button class='add-item-to-order-queue-button-container'>Order Now</button>";
                });

                document.getElementById("pbr-1-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>PBR</h3><p class='popup-description-container'></p><p>1 count</p><p  class='popup-description-container'></p><button class='add-item-to-order-queue-button-container'>Order Now</button>";
                });
                
            });
            
            LittleFreeDigitalLibrary[0].marker.on("popupclose", function(){
                document.getElementById("member-options-container").innerHTML = "<h3>The Little Free Digital Library</h3><p>Hello World! Click on an icon to start.</p><br/><h3>Key</h3><p>üìö Library</p><p>üßëüèΩ‚Äçüè´ , üöÅLibrarian</p>"
            });
            
            
            LittleFreeDigitalLibrary[1].marker.bindPopup(LittleFreeDigitalLibrary[1].popup);
            
            LittleFreeDigitalLibrary[1].marker.on("popupopen", function(){
                document.getElementById("member-options-container").innerHTML = "<h3>Patrice-Morgan's Library</h3><p class='popup-description-container'>Welcome to my Digital Little Free Library! Feel free to explore, share, and borrow from my collection.</p><p>üöÅ Hours</p><h5>11:00AM to 11:00PM</h5><p>üìö Hours</p><h5>Open 24/7</h5>";
                
                
                maidenPop[6] = true;

                document.getElementById("because-of-sex-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Because of Sex</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Gillian Thomas's Because of Sex tells the story of how one law, our highest court, and a few tenacious women changed the American workplace forever.</p><p>1 count</p><button id='because-of-sex-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-because-of-sex-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('because-of-sex-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Because-Of-Sex.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-because-of-sex-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Because of Sex'");
                    });
                });
                
                
                document.getElementById("the-house-of-scorpion-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The House of the Scorpion</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>In a future where humans despise clones, Matt enjoys special status as the young clone of El Patr√≥n, the 140-year-old leader of a corrupt drug empire nestled between Mexico and the United States.</p><p>1 count</p><button id='the-house-of-scorpion-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-house-of-scorpion-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("the-house-of-scorpion-digital-link-container").addEventListener("click", function(){
                        window.open("./media/book/The-House-Of-The-Scorpion.pdf", "_blank");
                    });
                    
                    document.getElementById("check-out-the-house-of-scorpion-button-container").addEventListener("click", function(){
                        console.log("Check Out 'The House of the Scorpion'");
                    });
                });
                
                document.getElementById("the-nazi-seizure-of-power-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The Nazi Seizure of Power</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>William Sheridan Allen's research provides an intimate, comprehensive study of the mechanics of revolution and an analysis of the Nazi Party's subversion of democracy. Beginning at the end of the Weimar Republic, Allen examines the entire period of the Nazi Revolution within a single locality.</p><p>1 count</p><button id='the-nazi-seizure-of-power-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-nazi-seizure-of-power-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("the-nazi-seizure-of-power-digital-link-container").addEventListener("click", function(){
                         window.open("./media/book/The-Nazi-Seizure-Of-Power.pdf", "_blank");
                    });
                    
                    document.getElementById("check-out-the-nazi-seizure-of-power-button-container").addEventListener("click", function(){
                        console.log("Check Out 'The Nazi Seizure of Power'");
                    });
                });
                
              /*  document.getElementById("from-farmland-to-streetlevel-book-0-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>From Farmland to Streetlevel</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>A thesis about direct trade coffee in Honduras</p><p>1 count</p><button id='from-farmland-to-streetlevel-digital-link-0-container' class='view-digital-book-button-container'>Digital</button><button id='return-farmland-book-0-button-container' class='return-book-button-container'>Return</button>";
                    
                    document.getElementById("from-farmland-to-streetlevel-digital-link-0-container").addEventListener("click", function(){
                        window.open("https://www.amazon.com/Farmlevel-Streetlevel-Ethnography-Direct-Honduras/dp/1512067105", "_blank");
                    });
                    
                    document.getElementById("return-farmland-book-0-button-container").addEventListener("click", function(){
                        console.log("Return 'From Farmland to StreetLevel'");
                        document.getElementById("return-book-container").style.display = "block";
                        document.getElementById("return-book-cover-container").style.backgroundImage = "url(./media/img/from-farmland-to-streetlevel-book-cover.png)";
                        document.getElementById("return-book-title-container").innerHTML = "From Farmland to Streetlevel";
                        document.getElementById("return-book-owner-container").innerHTML = "Owner: Katie | Borrower: Patrice-Morgan";
                    });
                });
                 hide the above function once demo is done*/
                
                document.getElementById("the-book-of-forgiving-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The Book of Forgiving</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>The Book of Forgiving is both a touchstone and a tool, offering Tutu's wise advice and showing the way to experience forgiveness.</p><p>1 count</p><button id='the-book-of-forgiving-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='return-the-book-of-forgiving-button-container' class='return-book-button-container'>Return</button>";
                
                    document.getElementById("the-book-of-forgiving-digital-link-container").addEventListener("click", function(){
                        window.open("./media/book/The-Book-Of-Forgiving.pdf", "_blank");
                    });
                    
                    document.getElementById("return-the-book-of-forgiving-button-container").addEventListener("click", function(){
                        console.log("Return 'The Book of Forgiving'");
                    });
                });
                
                document.getElementById("l4yer-cake-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>L4yer Cake</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Smooth-talking drug dealer X has a plan to quietly bankroll enough cash to retire before his thirtieth birthday. Operating under the polished veneer of a legitimate businessman, his mantra is to keep a low profile and run a tight operation until it's time to get out.</p><p>1 count</p><button id='l4yer-cake-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='return-l4yer-cake-button-container' class='return-book-button-container'>Return</button>";
                    
                    document.getElementById("l4yer-cake-digital-link-container").addEventListener("click", function(){
                        window.open("./media/book/L4yer-Cake.pdf", "_blank");
                    });
                    
                    document.getElementById("return-l4yer-cake-button-container").addEventListener("click", function(){
                        console.log("Return 'L4yer Cake'");
                    });

                });
            });
            
            LittleFreeDigitalLibrary[1].marker.on("popupclose", function(){
                document.getElementById("member-options-container").innerHTML = "<h3>The Little Free Digital Library</h3><p>Hello World! Click on an icon to start.</p><br/><h3>Key</h3><p>üìö Library</p><p>üßëüèΩ‚Äçüè´ , üöÅLibrarian</p>"
            });
            
            
            LittleFreeDigitalLibrary[2].marker.bindPopup(LittleFreeDigitalLibrary[2].popup);
            
            LittleFreeDigitalLibrary[2].marker.on("popupopen", function(){
                document.getElementById("member-options-container").innerHTML = "<h3>KT's Library</h3><p class='popup-description-container'>Welcome to my Digital Little Free Library! Feel free to explore, share, and borrow from my collection.</p><p>üöÅ Hours</p><h5>11:00AM to 11:00PM</h5><p>üìö Hours</p><h5>Open 24/7</h5>";
                
                //maidenPop[6] = true;
                
                document.getElementById("from-farmland-to-streetlevel-book-1-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>From Farmland to Streetlevel</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>A thesis about direct trade coffee in Honduras</p><p>1 count</p><button id='from-farmland-to-streetlevel-digital-link-1-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-from-farmland-to-streetlevel-book-1-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("from-farmland-to-streetlevel-digital-link-1-container").addEventListener("click", function(){
                        window.open("https://www.amazon.com/Farmlevel-Streetlevel-Ethnography-Direct-Honduras/dp/1512067105", "_blank");
                    });
                    
                    document.getElementById("check-out-from-farmland-to-streetlevel-book-1-button-container").addEventListener("click", function(){
                        console.log("Check Out 'Farmland to Streetlevel'");
                    });
                });
                
                document.getElementById("dragons-heart-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Dragon's Heart</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Austar IV isn't the planet it once was, and when Jakkin and Akki finally return to the dragon nursery, their homecoming arouses mixed emotions...</p><p>1 count</p><button id='dragons-heart-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-dragons-heart-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('dragons-heart-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Dragons-Heart.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-dragons-heart-book-button-container').addEventListener("click", function(){
                        console.log(`Check Out "Dragon's Heart"`);
                    });
                });
                
                document.getElementById("father-of-the-bride-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Father of the Bride</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>The New York Times bestselling classic tale about modern marriage and the basis for the popular films is now back in print!</p><p class='popup-description-container'>Poor Mr. Banks! His jacket is too tight, he can‚Äôt get a cocktail, and he‚Äôs footing the bill...He‚Äôs the father of the bride.</p><p>1 count</p><button id='father-of-the-bride-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-father-of-the-bride-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('father-of-the-bride-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Father-Of-The-Bride.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-father-of-the-bride-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Father of the Bride'");
                    });
                });
                
                document.getElementById("key-west-connection-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Key West Connection</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>A violent plunge into the depths of the Gulf Stream as one man‚Äôs vengeance becomes another‚Äôs worst nightmare.</p><p>1 count</p><button id='key-west-connection-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-key-west-connection-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('key-west-connection-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Key-West-Connection.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-key-west-connection-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Key West Connection'");
                    });
                });
                
                document.getElementById("critique-of-pure-reason-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Critique of Pure Reason</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Kant seeks to determine the limits and scope of metaphysics. Also referred to as Kant's 'First Critique', it is followed by his Critique of Practical Reason and Critique of Judgment.</p><p>1 count</p><button id='critique-of-pure-reason-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-critique-of-pure-reason-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('critique-of-pure-reason-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Critique-Of-Pure-Reason.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-critique-of-pure-reason-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Critique of Pure Reason'");
                    });
                });
                
                document.getElementById("time-and-the-other-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Time and the Other</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>A classic work that critically reexamined the relationship between anthropologists and their subjects and reoriented the approach literary critics, philosophers, and historians took to the study of humankind.</p><p>1 count</p><button id='time-and-the-other-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-time-and-the-other-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('time-and-the-other-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Time-And-The-Other.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-time-and-the-other-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Time and the Other'");
                    });
                });
                
                document.getElementById("stop-dressing-your-six-year-old-like-a-skank-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Stop Dressing Your Six Year Old Like a Skank</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Rivenbark is an intrepid explorer and acid commentator on the land south of the Mason-Dixon Line. Her essays about life in today's South are like caramel popcorn---sweet, salty, and utterly irresistible.</p><p>1 count</p><button id='stop-dressing-your-six-year-old-like-a-skank-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-stop-dressing-your-six-year-old-like-a-skank-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('stop-dressing-your-six-year-old-like-a-skank-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Stop-Dressing-Your-Six-Year-Old-Like-A-Skank.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-stop-dressing-your-six-year-old-like-a-skank-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Stop Dressing Your Six Year Old Like A Skank'");
                    });
                });
                
                document.getElementById("the-theatre-of-the-absurd-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The Theatre of the Absurd</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Analyzes and describes those fundamental characteristics which seem to be present in the works of such major playwrights as Beckett, Pinter, Ionesco, Brecht and Albee.</p><p>1 count</p><button id='the-theatre-of-the-absurd-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-theatre-of-the-absurd-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('the-theatre-of-the-absurd-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/The-Theatre-Of-The-Absurd.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-the-theatre-of-the-absurd-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'The Theatre of the Absurd'");
                    });
                });
                
                document.getElementById("on-the-plurality-of-worlds-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>On the Plurality of Worlds</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>a violent plunge into the depths of the Gulf Stream as one man‚Äôs vengeance becomes another‚Äôs worst nightmare...</p><p>1 count</p><button id='on-the-plurality-of-worlds-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-on-the-plurality-of-worlds-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('on-the-plurality-of-worlds-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/On-The-Plurality-Of-Worlds.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-on-the-plurality-of-worlds-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'On the Plurality of Worlds'");
                    });
                });
                
                document.getElementById("a-history-of-the-modern-middle-east-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>A History of the Modern Middle East</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>a violent plunge into the depths of the Gulf Stream as one man‚Äôs vengeance becomes another‚Äôs worst nightmare...</p><p>1 count</p><button id='a-history-of-the-modern-middle-east-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-a-history-of-the-modern-middle-east-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('a-history-of-the-modern-middle-east-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/A-History-Of-The-Modern-Middle-East.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-a-history-of-the-modern-middle-east-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'A History of the Modern Middle East'");
                    });
                });
                
                document.getElementById("total-immersion-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Total Immersion: The Revolutionary Way To Swim Better, Faster, and Easier</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>a violent plunge into the depths of the Gulf Stream as one man‚Äôs vengeance becomes another‚Äôs worst nightmare...</p><p>1 count</p><button id='total-immersion-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-total-immersion-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('total-immersion-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Total-Immersion.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-total-immersion-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Total Immersion'");
                    });
                });
                
                document.getElementById("stealth-of-nations-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Stealth of Nations</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>a violent plunge into the depths of the Gulf Stream as one man‚Äôs vengeance becomes another‚Äôs worst nightmare...</p><p>1 count</p><button id='stealth-of-nations-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-stealth-of-nations-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('stealth-of-nations-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Stealth-Of-Nations.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-stealth-of-nations-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Stealth of Nations'");
                    });
                });
                
                document.getElementById("extreme-ownership-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Extreme Ownership</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>a violent plunge into the depths of the Gulf Stream as one man‚Äôs vengeance becomes another‚Äôs worst nightmare...</p><p>1 count</p><button id='extreme-ownership-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-extreme-ownership-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('extreme-ownership-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Extreme-Ownership.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-extreme-ownership-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Extreme Ownership'");
                    });
                });
                
                document.getElementById("the-house-on-mango-street-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The House on Mango Street</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>the house on mango street...</p><p>1 count</p><button id='the-house-on-mango-street-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-house-on-mango-street-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('the-house-on-mango-street-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/The-House-On-Mango-Street.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-the-house-on-mango-street-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'The House on Mango Street'");
                    });
                });
                
                document.getElementById("guardians-of-gahoole-capture-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Guardians of Ga'Hoole: Capture</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Book 1 in the Guardians of Ga'Hoole Series...</p><p>1 count</p><button id='guardians-of-gahoole-capture-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-guardians-of-gahoole-capture-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('guardians-of-gahoole-capture-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Guardians-Of-Gahoole-Capture.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-guardians-of-gahoole-capture-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Guardians of Ga hoole: Capture'");
                    });
                });
                
                document.getElementById("dynamics-of-faith-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The Dynamics of Faith</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>the dynamics of faith...</p><p>1 count</p><button id='dynamics-of-faith-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-dynamics-of-faith-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('dynamics-of-faith-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Dynamics-Of-Faith.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-dynamics-of-faith-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Dynamics of Faith'");
                    });
                });
                
                document.getElementById("miss-emily-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Miss Emily</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Miss Emily...</p><p>1 count</p><button id='miss-emily-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-miss-emily-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('miss-emily-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Miss-Emily.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-miss-emily-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Miss Emily'");
                    });
                });
                
                document.getElementById("desert-queen-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Desert Queen</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>desert queen...</p><p>1 count</p><button id='desert-queen-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-desert-queen-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('desert-queen-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Desert-Queen.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-desert-queen-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Desert Queen'");
                    });
                });
                
                document.getElementById("a-woman-in-arabia-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>A Woman in Arabia</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>a woman in arabia...</p><p>1 count</p><button id='a-woman-in-arabia-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-a-woman-in-arabia-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('a-woman-in-arabia-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/A-Woman-In-Arabia.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-a-woman-in-arabia-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'A Woman In Arabia'");
                    });
                });
                
                document.getElementById("the-black-country-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The Black Country</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>the black country...</p><p>1 count</p><button id='the-black-country-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-black-country-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('the-black-country-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/The-Black-Country.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-the-black-country-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'The Black Country'");
                    });
                });
                
                document.getElementById("the-logical-basis-of-metaphysics-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The Logical Basis of Metaphysics</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>the logical basis of metaphysics..</p><p>1 count</p><button id='the-logical-basis-of-metaphysics-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-logical-basis-of-metaphysics-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('the-logical-basis-of-metaphysics-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/The-Logical-Basis-Of-Metaphysics.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-the-logical-basis-of-metaphysics-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'The Logical Basis of Metaphysics'");
                    });
                });
                
                document.getElementById("the-devils-workshop-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The Devil's Workshop</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>the devil's workshop...</p><p>1 count</p><button id='the-devils-workshop-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-devils-workshop-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('the-devils-workshop-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/The-Devils-Workshop.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-the-devils-workshop-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'The Devils Workshop'");
                    });
                });
                
                document.getElementById("mauds-line-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Maud's Line</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>maud's line...</p><p>1 count</p><button id='mauds-line-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-mauds-line-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('mauds-line-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/Mauds-Line.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-mauds-line-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'Mauds Line'");
                    });
                });
                
                document.getElementById("the-curly-pyjama-letters-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The Curly Pyjama Letters</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>the curly pyjama letters...</p><p>1 count</p><button id='the-curly-pyjama-letters-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-curly-pyjama-letters-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById('the-curly-pyjama-letters-digital-link-container').addEventListener("click", function(){
                        window.open("./media/book/The-Curly-Pyjama-Letters.pdf", "_blank");
                    });
                    
                    document.getElementById('check-out-the-curly-pyjama-letters-book-button-container').addEventListener("click", function(){
                        console.log("Check Out 'The Curly Pyjama Letters'");
                    });
                });
                
            });
            
            LittleFreeDigitalLibrary[2].marker.on("popupclose", function(){
                document.getElementById("member-options-container").innerHTML = "<h3>The Little Free Digital Library</h3><p>Hello World! Click on an icon to start.</p><br/><h3>Key</h3><p>üìö Library</p><p>üßëüèΩ‚Äçüè´ , üöÅLibrarian</p>"
            });
            
            
            LittleFreeDigitalLibrary[3].marker.bindPopup(LittleFreeDigitalLibrary[3].popup);
            
             LittleFreeDigitalLibrary[3].marker.on("popupopen", function(){
                document.getElementById("member-options-container").innerHTML = "<h3>Youth Build Library</h3><p class='popup-description-container'>Welcome to the Youth Build Library of the DC International School in Mt Pleasant! Feel free to explore, share, and borrow from my collection.</p><p>üöÅ Hours</p><h5>05:30PM to 11:00PM</h5><p>üìö Hours</p><h5>Open 24/7</h5>";
                 
                document.getElementById("the-false-prophet-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The False Prophet: From FBI Informant to Knesset Member</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>This book exposes a warrior-priest who thrives on the tensions generated by racial and political upheaval. It provides a looking glass into the dark side of Israel's soul.</p><p>1 count</p><button id='the-false-prophet-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-false-prophet-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("the-false-prophet-digital-link-container").addEventListener("click", function(){
                        window.open("./media/book/The-False-Prophet.pdf", "_blank");
                    });
                    
                    document.getElementById("check-out-the-false-prophet-book-button-container").addEventListener("click", function(){
                        console.log("Check Out 'The False Prophet'");
                    });
                });
                 
                document.getElementById("el-viento-travieso-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>El Viento Travieso</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>A mischievous wind decides to blow all kinds of things around.</p><p>1 count</p><button id='el-viento-travieso-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-el-viento-travieso-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("el-viento-travieso-digital-link-container").addEventListener("click", function(){
                        window.open("https://shop.scholastic.com/teachers-ecommerce/teacher/books/el-viento-travieso-9780590619684.html", "_blank");
                    });
                    
                    document.getElementById("check-out-the-false-prophet-book-button-container").addEventListener("click", function(){
                        console.log("Check Out 'El Viento Travieso'");
                    });
                });
                 
                document.getElementById("bayes-theorem-a-visual-intro-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Bayes Theorem: A Visual Introduction For Beginners</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>If you are a visual learner and like to learn by example, this intuitive Bayes' Theorem 'for dummies' type book is a good fit for you.</p><p>1 count</p><button id='bayes-theorem-a-visual-intro-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-bayes-theorem-a-visual-intro-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("bayes-theorem-a-visual-intro-digital-link-container").addEventListener("click", function(){
                        window.open("./media/book/Bayes-Theorem-A-Visual-Introduction.pdf", "_blank");
                    });
                    
                    document.getElementById("check-out-bayes-theorem-a-visual-intro-book-button-container").addEventListener("click", function(){
                        console.log("Check Out 'Bayes Theorem: A Visual Introduciton'");
                    });
                });
                 
                document.getElementById("american-sniper-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>American Sniper: The Autobiography of the Most Lethal Sniper in U.S. Military History</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Gripping and unforgettable, Kyle‚Äôs masterful account of his extraordinary battlefield experiences ranks as one of the most insightful war memoirs about the early 21st century American interventions in  Iraq and Afghanistan.</p><p>1 count</p><button id='american-sniper-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-american-sniper-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("american-sniper-digital-link-container").addEventListener("click", function(){
                        window.open("./media/book/American-Sniper.pdf", "_blank");
                    });
                    
                    document.getElementById("check-out-american-sniper-book-button-container").addEventListener("click", function(){
                        console.log("Check Out 'American Sniper'");
                    });
                });
                 
                document.getElementById("the-future-of-an-illusion-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>The Future of an Illusion</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'></p><p>1 count</p><button id='the-future-of-an-illusion-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-the-future-of-an-illusion-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("the-future-of-an-illusion-digital-link-container").addEventListener("click", function(){
                        window.open("./media/book/The-Future-Of-An-Illusion.pdf", "_blank");
                    });
                    
                    document.getElementById("check-out-the-future-of-an-illusion-book-button-container").addEventListener("click", function(){
                        console.log("Check Out 'The Future of an Illusion'");
                    });
                });
                 
                document.getElementById("communities-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Communities</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>Describes where people live, work, and shop, and how children get to school, in three kinds of communities.</p><p>1 count</p><button id='communities-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-communities-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("communities-digital-link-container").addEventListener("click", function(){
                        window.open("./media/book/Communities.pdf", "_blank");
                    });
                    
                    document.getElementById("check-out-communities-book-button-container").addEventListener("click", function(){
                        console.log("Check Out 'Communities'");
                    });
                });
                 
                 document.getElementById("jacobin-mag-summer-2023-book-option-container").addEventListener("click", function(){
                    document.getElementById("member-options-container").innerHTML = "<h3>Jacobin Magazine Summer 2023 Issue: Iraq at 20</h3><h5>‚è∞ 15 to 30 min</h5><p class='popup-description-container'>¬´When and where has there been a war since so-called public opinion has played a role in governmental calculations, in which each and every belligerent party did not, with a heavy heart, draw the sword from its sheath for the single and sole purpose of defending its fatherland and its own righteous cause from the shameful attacks of the enemy? This legend is as inextricably a part of the game of war as powder and lead.¬ª - Rosa Luxemburg, The Junius Pamphlet, 1915</p><p>1 count</p><button id='jacobin-mag-summer-2023-digital-link-container' class='view-digital-book-button-container'>Digital</button><button id='check-out-jacobin-mag-summer-2023-book-button-container' class='add-item-to-order-queue-button-container'>Check Out</button>";
                    
                    document.getElementById("jacobin-mag-summer-2023-digital-link-container").addEventListener("click", function(){
                        window.open("https://jacobin.com/issue/iraq-at-twenty", "_blank");
                    });
                    
                    document.getElementById("check-out-jacobin-mag-summer-2023-book-button-container").addEventListener("click", function(){
                        console.log("Check Out 'Jacobin Mag Summer 2023'");
                    });
                });
                 
                
             });
            
            LittleFreeDigitalLibrary[3].marker.on("popupclose", function(){
                document.getElementById("member-options-container").innerHTML = "<h3>The Little Free Digital Library</h3><p>Hello World! Click on an icon to start.</p><br/><h3>Key</h3><p>üìö Library</p><p>üßëüèΩ‚Äçüè´ , üöÅLibrarian</p>"
            });
            
            LittleFreeDigitalLibrary[0].marker.addTo(map);
            LittleFreeDigitalLibrary[1].marker.addTo(map);
            LittleFreeDigitalLibrary[2].marker.addTo(map);
            LittleFreeDigitalLibrary[3].marker.addTo(map);
            
            var maidenPop = [
                false,
                false
            ];
            //loadMarkers();
            
           var memberOptionsContainer = document.createElement("div");
            memberOptionsContainer.setAttribute("id", "member-options-container");
            memberOptionsContainer.classList.add("smooth-scroll");
            memberOptionsContainer.innerHTML = "<h3>The Little Free Digital Library</h3><p>Hello World! Click on an icon to start.</p><br/><h3>Key</h3><p>üìö Library</p><p>üßëüèΩ‚Äçüè´ , üöÅLibrarian</p>";
            document.getElementById("main-app-container").append(memberOptionsContainer);
            
            document.getElementById("library-menu-button-container").style.display = "block";
            
            document.getElementById("library-menu-button-container").addEventListener("click", function(){
                toggleLibraryMenu();
            });
            
            document.getElementById("add-new-library-page-button-container").addEventListener("click", function(){
                window.open("./add-new-library", "_blank");
            });
            
            document.getElementById("add-new-librarian-page-button-container").addEventListener("click", function(){
                window.open("./add-new-librarian", "_blank");
            });
            
            document.getElementById("vision-page-button-container").addEventListener("click", function(){
                window.open("./vision", "_blank");
            });
            
            document.getElementById("user-access-layer-container").style.display = "none";
            document.getElementById("user-access-layer-container").style.zIndex = "-1";
        }
        
        var libraryMenuIsVisible = false;
        
        function menuButtonHover(item){
            item.style.color = "white";
            item.style.backgroundColor = "black";
        }
        
        function menuButtonHoverOut(item){
            item.style.color = "black";
            item.style.backgroundColor = "white";
        }
        
        function toggleLibraryMenu(){
            if(libraryMenuIsVisible){
                document.getElementById("library-menu-container").style.display = "none";
                document.getElementById("library-menu-container").style.zIndex = -1;
                libraryMenuIsVisible = false;
            }
            else{
                document.getElementById("library-menu-container").style.display = "block";
                document.getElementById("library-menu-container").style.zIndex = 999;
                libraryMenuIsVisible = true;
            }
        }
        
        function onMapClick(e) {
            console.log("Click @ " + e.latlng);
        }

        function downloadDailyDeliveryTargets(deliverNodes){
            let dailyDeliveryTargets = deliverNodes;
            console.log("----------------------\nKnown Daily Delivery Targets");
            var realDeliveryTargets = [];

            var targetTitles = Object.keys(dailyDeliveryTargets);
            for(var currentTitle = 0; currentTitle < targetTitles.length; currentTitle++){
              (function(){
                if(targetTitles[currentTitle].indexOf("order-")>-1){
                  let currentDeliveryTarget = dailyDeliveryTargets[targetTitles[currentTitle]];
                  realDeliveryTargets.push(currentDeliveryTarget);

                  if(currentDeliveryTarget.zoom){
                      iconSize = new google.maps.Size(currentDeliveryTarget.iconSize.x, currentDeliveryTarget.iconSize.y);
                  }
                  else{
                      iconSize = new google.maps.Size(50, 50);
                  }

                  currentDeliveryTarget.marker = new google.maps.Marker({
                      position: currentDeliveryTarget.position,
                      map: map,
                      icon: {
                          url: currentDeliveryTarget.icon,
                          scaledSize: iconSize
                      }
                  });

                  currentDeliveryTarget.marker.addListener("click", function(){
                      toggleRestaurantInfoPreview(currentDeliveryTarget.name);
                    //  console.log("you clicked on a marker");
                  });

                  Restaurants.push(currentDeliveryTarget);
                }
              })();
            }
            //console.log(realDeliveryTargets);
        }

        function downloadNodeData(nodes){
            let downloadedLocations = nodes;
            let loci = Object.keys(downloadedLocations);
            let order = loci.length;


            console.log("downloaded Locations");
            //console.log(downloadedLocations);

            // convert the downloadedLocations JavaScript Object into the locations JavaScript Array

            for(var locus = 0; locus < order; locus++){
                (function(){
                    locations.push(downloadedLocations[loci[locus]]);
            //        console.log(downloadedLocations[loci[locus]]);
                })();
            }

            // traverse the locations Array to create the markers for the members in the pARk
            for(var i=0; i<locations.length; i++){
                (function(){
                    let currentLocation = {
                        marker: null,
                        position: locations[i].position,
                        icon: locations[i].icon,
                        name: locations[i].name,
                        rating: locations[i].rating,
                        description: locations[i].description,
                        tables: locations[i].tables,
                        zoom: locations[i].zoom,
                        pointer: locations[i].pointer,
                        queueLoc: i,
                        lastPublicPostPreviewAvailable: locations[i].lastPublicPostPreviewAvailable,
                        lastPublicPostPreviewImage: "url(../media/img/yktv-static.gif)",
                        iconSize: locations[i].iconSize,
                        widgetOptions: locations[i].widgetOptions,
                        targets: locations[i].targets
                    };

                    storage.refFromURL(locations[i].lastPublicPostPreviewImage).getDownloadURL().then(function(url){
                        currentLocation.lastPublicPostPreviewImage = `url(${url})`;
                        //console.log(currentLocation);
                    }).catch((error) => {
                        console.log(error);
                    });

                    let iconSize;

                    if(currentLocation.zoom){
                        iconSize = new google.maps.Size(currentLocation.iconSize.x, currentLocation.iconSize.y);
                    }
                    else{
                        iconSize = new google.maps.Size(50, 50);
                    }

                    currentLocation.marker = new google.maps.Marker({
                        position: currentLocation.position,
                        map: map,
                        icon: {
                            url: currentLocation.icon,
                            scaledSize: iconSize
                        }
                    });

                    currentLocation.marker.addListener("click", function(){
                        toggleRestaurantInfoPreview(currentLocation.name);
                      //  console.log("you clicked on a marker");
                    });

                    //console.log(currentLocation);
                    Restaurants.push(currentLocation);
                })();
            }
        }

        function loadMarkers(){
            storage = firebase.storage();
            database = firebase.database();

            const dbRefObject = database.ref().child("members");

            dbRefObject.once("value").then(function(snap){
                //console.log(snap.val());
                downloadNodeData(snap.val());
            });

            loadDroneMarkers();
        }

        function loadDroneMarkers(){
          const deliverRefObject = database.ref().child("orders");

          deliverRefObject.once("value").then(function(snap){
            downloadDailyDeliveryTargets(snap.val());
          });
        }

        firebase.initializeApp(config);

        firebase.auth().signInWithEmailAndPassword("traderjoesdeliverydc@gmail.com", "L3R0!duL0@ng0")
          .then((userCredential) => {
            // Signed in
            console.log("signed in");
            var user = userCredential.user;
            //console.log(user);
            // ...
          })
          .catch((error) => {
            var errorCode = error.code;
            var errorMessage = error.message;
          });

        window.addEventListener("load", function(){
          console.log("content loaded");
          //console.log(navigator.geolocation);
          /*if ("geolocation" in navigator) {
            navigator.geolocation.getCurrentPosition(function(position){
              //alert(position.coords.latitude+" "+position.coords.longitude);
              document.getElementById("latitude-container").innerText = position.coords.latitude;
              document.getElementById("longitude-container").innerText = position.coords.longitude;
            });
          }
          else {
            alert("Geolocation is not supported by this browser.");
          }*/
        });

        document.addEventListener("DOMContentLoaded", function(){
            console.log("attaching button handlers");
            //attachButtonHandlers();
            setTimeout(function(){
                initMap()
            }, 9500);
        });

    </script>
</body>
</html>
